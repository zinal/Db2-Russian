            <heading alttoc="" refname="compat" type="h2" back-to-top="no"
                >Обеспечение совместимости с другими СУБД и миграция баз данных</heading>

<p>В IBM DB2 LUW реализовано множество функций для обеспечения совместимости с другими
видами СУБД и облегчения переноса приложений, разработанных для других типов СУБД,
на платформу IBM DB2. Полное описание функций обеспечения совместимости DB2 приведено
в разделе документации «<a href="http://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.apdv.porting.doc/com.ibm.db2.luw.apdv.porting.doc-gentopic1.html"
>DB2 compatibility features</a>».</p>

<p>Наиболее развитыми на данный момент являются средства обеспечения совместимости
с СУБД Oracle Database, которые включают в себя:</p>
<ol>
<li>поддержку языка PL/SQL для разработки хранимых процедур, пользовательских
функций и триггеров;</li>
<li>наличие в DB2 командного процессора <code>clpplus</code>, 
совместимого с командным процессором Oracle SQL*Plus;</li>
<li>реализацию значительной части стандартной библиотеки PL/SQL (частично -
в виде дополнения <a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=636bec0f-9dee-4d2a-b1e1-fa52db9b765d"
>DB2 Add-On Modules for Oracle Database Compatibility</a>, устанавливаемого
после создания базы данных);</li>
<li>наличие встроенной в DB2 поддержки большинства типов данных Oracle;</li>
<li>поддержка синтаксиса Oracle для многих операций DB2, например:
  <ul>
    <li>поддержка хранения и работы с меткой времени в данных типа DATE,</li>
    <li>поддержка неявного преобразования типов данных при выполнении сравнений
        (например, поддержка сравнения строк и чисел без явного приведения типа данных),</li>
    <li>поддержка внешних объединений (outer joins) в синтаксисе Oracle, с использованием
        оператора <code>(+)</code>,</li>
    <li>поддержка иерархических запросов в синтаксисе Oracle,</li>
    <li>поддержка псевдо-колонки <code>ROWNUM</code>,</li>
    <li>поддержка таблицы <code>DUAL</code>,</li>
    <li>поддержка синтаксиса Oracle для обращения к объектам других баз данных,
        доступных через сетевое соединение (определенное через так называемый
        «database link»): <code>Схема.Объект@Ссылка</code>;</li>
  </ul>
</li>
<li>наличие набора представлений системного словаря, совместимых с системным
словарем СУБД Oracle (включая представления <code>ALL_*</code>, <code>DBA_*</code>
и <code>USER_*</code>);</li>
<li>усовершенствования механизмов управления конкурентным доступом DB2,
облегчающие перенос приложений, разработанных для СУБД Oracle (так называемая
«Currently committed» семантика, используемая по умолчанию для всех новых баз
данных DB2, начиная с версии 9.7);</li>
<li>использование в режиме совместимости с Oracle так называемой поздней компиляции
запросов (deferred prepare), что позволяет корректно определить типы данных
параметров запроса на основе переданных реальных значений параметров.</li>
</ol>

<p>Для облегчения переноса на DB2 приложений, разработанных для СУБД MySQL и PostgreSQL,
поддерживается выражений <code>LIMIT</code> и <code>OFFSET</code> в командах
<code>SELECT</code>, <code>UPDATE</code> и <code>DELETE</code>.</p>

<p>Для использования функции совместимости DB2 с другими СУБД их необходимо
активизировать с помощью переменной реестра DB2 <code>DB2_COMPATIBILITY_VECTOR</code>.
Возможные значения и результат их применения описаны в
<a href="http://www.ibm.com/support/knowledgecenter/SSEPGG_11.1.0/com.ibm.db2.luw.apdv.porting.doc/doc/r0052867.html"
>документации</a>. Для использования большинства функций совместимости необходимо
установить переменную <code>DB2_COMPATIBILITY_VECTOR</code> в необходимое значение
(например, для работы в режиме максимальной совместимости с СУБД Oracle установить
значение <code>ORA</code>), перезапустить сервер СУБД, и затем создать новую базу
данных, в которой будут размещаться данные и код программных объектов.</p>

<p>Для упрощения решения задачи миграции баз данных в среду DB2 был создан
свободно распространяемый инструмент
<a href="https://www.ibm.com/developerworks/community/groups/service/html/communityview?communityUuid=05901c97-75b2-47a1-9c32-25f748855913"
>IBM Database Conversion Workbench</a> (IBM DCW), который реализует следующие функции:</p>
<ul>
<li>выгрузку описаний структуры и программного кода из исходных баз данных;</li>
<li>анализ совместимости выгруженных описаний с DB2 LUW, формирование отчетов о совместимости;</li>
<li>автоматизированную корректировку скриптов для создания базы данных;</li>
<li>создание необходимых объектов в целевой базе данных;</li>
<li>перенос информации из исходной базы данных в целевую базу данных.</li>
</ul>

<p>Описание основных операций с использованием инструмента IBM DCW приведено в статье
«<a href="http://www.ibm.com/developerworks/data/library/techarticle/dm-1309convwkbench/"
>IBM Database Conversion Workbench: Overview</a>».</p>

<p>Для облегчения миграции приложений на встроенном SQL, разработанных для СУБД Oracle Database
с использованием Oracle Pro*C, IBM DB2 поддерживает дополнительные средства и функции обеспечения
совместимости. Особенности процесса переноса приложений Oracle Pro*C на платформу IBM DB2
изложены в статье
«<a href="http://www.ibm.com/developerworks/data/library/techarticle/dm-1209oracletodb2/index.html"
>Accelerating migration from Oracle database-based Pro*C applications to DB2 embedded SQL C</a>»,
опубликованной на сайте IBM developerWorks.</p>
